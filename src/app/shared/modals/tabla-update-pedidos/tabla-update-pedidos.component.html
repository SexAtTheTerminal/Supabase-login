<!-- Icons -->
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0"
/>
<link
  rel="stylesheet"
  href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
/>
<!-- Fonts -->
<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;500;700&display=swap"
  rel="stylesheet"
/>

<table
  class="min-w-full bg-white border border-gray-200 shadow-sm rounded-lg overflow-hidden"
>
  <thead class="bg-gray-100 text-gray-600 text-sm uppercase">
    <tr>
      <th class="px-4 py-3 text-left">Código</th>
      <th class="px-4 py-3 text-left">Fecha</th>
      <th class="px-4 py-3 text-left">Estado actual</th>
      <th class="px-4 py-3 text-left">Actualizar estado</th>
      <th class="px-4 py-3 text-center">Acción</th>
    </tr>
  </thead>
  <tbody>
    <tr
      *ngFor="let pedido of paginaActual"
      class="border-t hover:bg-gray-50 transition"
    >
      <td class="px-4 py-2">{{ pedido.codigo }}</td>
      <td class="px-4 py-2">{{ pedido.fecha }}</td>
      <td class="px-4 py-2">
        <span
          [ngClass]="{
            'text-yellow-600 font-medium': pedido.estado === 'pendiente',
            'text-green-600 font-medium': pedido.estado === 'finalizado'
          }"
        >
          {{ pedido.estado }}
        </span>
      </td>
      <td class="px-4 py-2">
        <select
          [(ngModel)]="pedido.estadoTemp"
          class="border border-gray-300 rounded px-2 py-1 focus:ring-2 focus:ring-indigo-400"
        >
          <option value="pendiente">Pendiente</option>
          <option value="finalizado">Finalizado</option>
        </select>
      </td>
      <td class="px-4 py-2 text-center">
        <button
          (click)="confirmarCambioEstado(pedido)"
          class="bg-[#b39ddb] text-white px-3 py-1 rounded hover:bg-[#9f8dc2] transition"
        >
          Confirmar
        </button>
      </td>
    </tr>
  </tbody>
</table>

<!-- Paginación -->
<div class="flex justify-end mt-4 gap-2">
  <button
    (click)="paginaAnterior()"
    [disabled]="pagina === 1"
    class="px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"
  >
    Anterior
  </button>
  <button
    (click)="paginaSiguiente()"
    [disabled]="pagina === totalPaginas"
    class="px-3 py-1 border rounded bg-gray-100 hover:bg-gray-200 disabled:opacity-50"
  >
    Siguiente
  </button>
</div>
